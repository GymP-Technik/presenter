var ye=Object.defineProperty;var $e=(e,t,n)=>t in e?ye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var se=(e,t,n)=>($e(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function y(){}function me(e){return e()}function de(){return Object.create(null)}function A(e){e.forEach(me)}function ve(e){return typeof e=="function"}function K(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function ke(e){return Object.keys(e).length===0}function Ee(e,...t){if(e==null){for(const s of t)s(void 0);return y}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Y(e,t,n){e.$$.on_destroy.push(Ee(t,n))}function h(e,t){e.appendChild(t)}function j(e,t,n){e.insertBefore(t,n||null)}function C(e){e.parentNode&&e.parentNode.removeChild(e)}function m(e){return document.createElement(e)}function ae(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function H(e){return document.createTextNode(e)}function E(){return H(" ")}function P(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function _(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Se(e){return Array.from(e.childNodes)}function x(e,t){t=""+t,e.data!==t&&(e.data=t)}function J(e,t,n,s){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,s?"important":"")}function W(e,t,n){e.classList.toggle(t,!!n)}let Z;function U(e){Z=e}function Ce(){if(!Z)throw new Error("Function called outside component initialization");return Z}function fe(e){Ce().$$.on_mount.push(e)}const F=[],ee=[];let B=[];const pe=[],Le=Promise.resolve();let re=!1;function Oe(){re||(re=!0,Le.then(be))}function ce(e){B.push(e)}const ie=new Set;let q=0;function be(){if(q!==0)return;const e=Z;do{try{for(;q<F.length;){const t=F[q];q++,U(t),je(t.$$)}}catch(t){throw F.length=0,q=0,t}for(U(null),F.length=0,q=0;ee.length;)ee.pop()();for(let t=0;t<B.length;t+=1){const n=B[t];ie.has(n)||(ie.add(n),n())}B.length=0}while(F.length);for(;pe.length;)pe.pop()();re=!1,ie.clear(),U(e)}function je(e){if(e.fragment!==null){e.update(),A(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ce)}}function He(e){const t=[],n=[];B.forEach(s=>e.indexOf(s)===-1?t.push(s):n.push(s)),n.forEach(s=>s()),B=t}const G=new Set;let Ae;function R(e,t){e&&e.i&&(G.delete(e),e.i(t))}function le(e,t,n,s){if(e&&e.o){if(G.has(e))return;G.add(e),Ae.c.push(()=>{G.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}else s&&s()}function he(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Me(e,t){e.d(1),t.delete(e.key)}function Ve(e,t,n,s,o,l,u,f,c,i,r,d){let g=e.length,w=l.length,p=g;const v={};for(;p--;)v[e[p].key]=p;const a=[],S=new Map,L=new Map,I=[];for(p=w;p--;){const b=d(o,l,p),$=n(b);let k=u.get($);k?s&&I.push(()=>k.p(b,t)):(k=i($,b),k.c()),S.set($,a[p]=k),$ in v&&L.set($,Math.abs(p-v[$]))}const M=new Set,z=new Set;function V(b){R(b,1),b.m(f,r),u.set(b.key,b),r=b.first,w--}for(;g&&w;){const b=a[w-1],$=e[g-1],k=b.key,O=$.key;b===$?(r=b.first,g--,w--):S.has(O)?!u.has(k)||M.has(k)?V(b):z.has(O)?g--:L.get(k)>L.get(O)?(z.add(k),V(b)):(M.add(O),g--):(c($,u),g--)}for(;g--;){const b=e[g];S.has(b.key)||c(b,u)}for(;w;)V(a[w-1]);return A(I),a}function oe(e){e&&e.c()}function Q(e,t,n){const{fragment:s,after_update:o}=e.$$;s&&s.m(t,n),ce(()=>{const l=e.$$.on_mount.map(me).filter(ve);e.$$.on_destroy?e.$$.on_destroy.push(...l):A(l),e.$$.on_mount=[]}),o.forEach(ce)}function X(e,t){const n=e.$$;n.fragment!==null&&(He(n.after_update),A(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ne(e,t){e.$$.dirty[0]===-1&&(F.push(e),Oe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function te(e,t,n,s,o,l,u,f=[-1]){const c=Z;U(e);const i=e.$$={fragment:null,ctx:[],props:l,update:y,not_equal:o,bound:de(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:de(),dirty:f,skip_bound:!1,root:t.target||c.$$.root};u&&u(i.root);let r=!1;if(i.ctx=n?n(e,t.props||{},(d,g,...w)=>{const p=w.length?w[0]:g;return i.ctx&&o(i.ctx[d],i.ctx[d]=p)&&(!i.skip_bound&&i.bound[d]&&i.bound[d](p),r&&Ne(e,d)),g}):[],i.update(),r=!0,A(i.before_update),i.fragment=s?s(i.ctx):!1,t.target){if(t.hydrate){const d=Se(t.target);i.fragment&&i.fragment.l(d),d.forEach(C)}else i.fragment&&i.fragment.c();t.intro&&R(e.$$.fragment),Q(e,t.target,t.anchor),be()}U(c)}class ne{constructor(){se(this,"$$");se(this,"$$set")}$destroy(){X(this,1),this.$destroy=y}$on(t,n){if(!ve(n))return y;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const o=s.indexOf(n);o!==-1&&s.splice(o,1)}}$set(t){this.$$set&&!ke(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Pe="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Pe);const T=[];function we(e,t=y){let n;const s=new Set;function o(f){if(K(e,f)&&(e=f,n)){const c=!T.length;for(const i of s)i[1](),T.push(i,e);if(c){for(let i=0;i<T.length;i+=2)T[i][0](T[i+1]);T.length=0}}}function l(f){o(f(e))}function u(f,c=y){const i=[f,c];return s.add(i),s.size===1&&(n=t(o,l)||y),f(e),()=>{s.delete(i),s.size===0&&n&&(n(),n=null)}}return{set:o,update:l,subscribe:u}}const D=we({running:!1,text:"Loading",fetching:!0,playing:""}),ue=we("");function _e(e,t,n){const s=e.slice();return s[13]=t[n],s}function ge(e,t){let n,s,o,l,u,f=t[13].filename+"",c,i,r,d=new Date(t[13].date)+"",g,w,p,v,a,S,L,I,M,z,V,b;function $(){return t[9](t[13])}function k(){return t[10](t[13])}return{key:e,first:null,c(){n=m("div"),s=m("div"),o=E(),l=m("div"),u=m("p"),c=H(f),i=E(),r=m("span"),g=H(d),w=E(),p=m("div"),v=m("button"),a=ae("svg"),S=ae("path"),I=E(),M=m("button"),M.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="M7 21q-.825 0-1.413-.588T5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.588 1.413T17 21H7Zm2-4h2V8H9v9Zm4 0h2V8h-2v9Z"></path></svg>',z=E(),_(s,"class","status svelte-1pgurf2"),W(s,"playing",t[13].uuid==t[3].playing),W(s,"selected",t[13].uuid==t[4]),_(u,"class","svelte-1pgurf2"),_(r,"class","svelte-1pgurf2"),_(l,"class","infos svelte-1pgurf2"),_(S,"fill","currentColor"),_(S,"d","M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18a1 1 0 0 0 0-1.69L9.54 5.98A.998.998 0 0 0 8 6.82z"),_(a,"xmlns","http://www.w3.org/2000/svg"),_(a,"width","20"),_(a,"height","20"),_(a,"viewBox","0 0 24 24"),v.disabled=L=t[13].uuid==t[4],_(p,"class","actions svelte-1pgurf2"),_(n,"class","video svelte-1pgurf2"),this.first=n},m(O,N){j(O,n,N),h(n,s),h(n,o),h(n,l),h(l,u),h(u,c),h(l,i),h(l,r),h(r,g),h(n,w),h(n,p),h(p,v),h(v,a),h(a,S),h(p,I),h(p,M),h(n,z),V||(b=[P(v,"click",$),P(M,"click",k)],V=!0)},p(O,N){t=O,N&9&&W(s,"playing",t[13].uuid==t[3].playing),N&17&&W(s,"selected",t[13].uuid==t[4]),N&1&&f!==(f=t[13].filename+"")&&x(c,f),N&1&&d!==(d=new Date(t[13].date)+"")&&x(g,d),N&17&&L!==(L=t[13].uuid==t[4])&&(v.disabled=L)},d(O){O&&C(n),V=!1,A(b)}}}function qe(e){let t,n,s,o,l=[],u=new Map,f,c,i,r,d,g=he(e[0]);const w=p=>p[13].uuid;for(let p=0;p<g.length;p+=1){let v=_e(e,g,p),a=w(v);u.set(a,l[p]=ge(a,v))}return{c(){t=m("div"),n=m("div"),n.innerHTML='<p class="svelte-1pgurf2">Click to upload</p>',s=E(),o=m("div");for(let p=0;p<l.length;p+=1)l[p].c();f=E(),c=m("form"),i=m("input"),_(n,"class","upload svelte-1pgurf2"),_(o,"class","list svelte-1pgurf2"),_(i,"type","file"),_(i,"name","fileUpload"),_(i,"id","fileUpload"),J(i,"opacity","0"),J(i,"height","0px"),J(i,"width","0px"),_(i,"accept","video/mp4,video/x-m4v,video/*"),_(c,"method","POST"),_(c,"enctype","multipart/form-data"),_(c,"action",`${window.apiHost}/upload`),J(c,"height","0px"),_(t,"class","container svelte-1pgurf2")},m(p,v){j(p,t,v),h(t,n),h(t,s),h(t,o);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(o,null);h(t,f),h(t,c),h(c,i),e[11](i),e[12](c),r||(d=[P(n,"click",e[7]),P(i,"change",e[8])],r=!0)},p(p,[v]){v&121&&(g=he(p[0]),l=Ve(l,v,w,1,p,g,u,o,Me,ge,null,_e))},i:y,o:y,d(p){p&&C(t);for(let v=0;v<l.length;v+=1)l[v].d();e[11](null),e[12](null),r=!1,A(d)}}}function Te(e,t,n){let s,o;Y(e,D,a=>n(3,s=a)),Y(e,ue,a=>n(4,o=a));let l=[{id:4,filename:"Kopie von Compliment Day  Welttag.mp4",uuid:"2095d76b-d1a8-4f6b-81e9-e455e278d923",date:1688975266079}];async function u(a){const L=await(await fetch(`${window.apiHost}/videos/${a}`,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:"{}"})).json();n(0,l=L)}async function f(a){ue.set(a)}let c,i;function r(){c.click()}async function d(){i.submit()}fe(async()=>{const S=await(await fetch(`${window.apiHost}/videos`)).json();n(0,l=S)});const g=a=>f(a.uuid),w=a=>u(a.uuid);function p(a){ee[a?"unshift":"push"](()=>{c=a,n(1,c)})}function v(a){ee[a?"unshift":"push"](()=>{i=a,n(2,i)})}return[l,c,i,s,o,u,f,r,d,g,w,p,v]}class Fe extends ne{constructor(t){super(),te(this,t,Te,qe,K,{})}}function Be(e){let t,n,s,o,l;return{c(){t=m("button"),n=H("Start"),t.disabled=s=e[0].fetching},m(u,f){j(u,t,f),h(t,n),o||(l=P(t,"click",e[4]),o=!0)},p(u,f){f&1&&s!==(s=u[0].fetching)&&(t.disabled=s)},d(u){u&&C(t),o=!1,l()}}}function Ie(e){let t,n,s,o,l,u,f,c,i;return{c(){t=m("button"),n=H("Restart"),o=E(),l=m("button"),u=H("Stop"),t.disabled=s=e[0].fetching,l.disabled=f=e[0].fetching},m(r,d){j(r,t,d),h(t,n),j(r,o,d),j(r,l,d),h(l,u),c||(i=[P(t,"click",e[2]),P(l,"click",e[3])],c=!0)},p(r,d){d&1&&s!==(s=r[0].fetching)&&(t.disabled=s),d&1&&f!==(f=r[0].fetching)&&(l.disabled=f)},d(r){r&&(C(t),C(o),C(l)),c=!1,A(i)}}}function ze(e){let t,n,s,o=e[0].text+"",l,u,f;function c(d,g){return d[0].running?Ie:Be}let i=c(e),r=i(e);return{c(){t=m("div"),n=m("div"),s=m("p"),l=H(o),u=E(),f=m("div"),r.c(),_(s,"class","svelte-19pv4h"),_(n,"class","status svelte-19pv4h"),_(f,"class","controlls svelte-19pv4h"),_(t,"class","container svelte-19pv4h")},m(d,g){j(d,t,g),h(t,n),h(n,s),h(s,l),h(t,u),h(t,f),r.m(f,null)},p(d,[g]){g&1&&o!==(o=d[0].text+"")&&x(l,o),i===(i=c(d))&&r?r.p(d,g):(r.d(1),r=i(d),r&&(r.c(),r.m(f,null)))},i:y,o:y,d(d){d&&C(t),r.d()}}}function De(e,t,n){let s,o;Y(e,ue,i=>n(5,s=i)),Y(e,D,i=>n(0,o=i));async function l(i){D.update(g=>(g.fetching=!0,g));const d=await(await fetch(`${window.apiHost}/vlc/${i}`,{method:"put",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({uuid:s})})).json();D.set(d)}return fe(async()=>{const r=await(await fetch(`${window.apiHost}/vlc`)).json();D.set(r)}),[o,l,()=>l("restart"),()=>l("stop"),()=>l("start")]}class Ue extends ne{constructor(t){super(),te(this,t,De,ze,K,{})}}function Re(e){let t,n,s,o,l,u,f;return{c(){t=m("footer"),n=m("div"),s=m("div"),l=E(),u=m("p"),f=H(e[0]),_(s,"class","status svelte-mmkx9b"),_(s,"style",o=`background-color: var(--color-${e[0]})`),_(u,"class","svelte-mmkx9b"),_(n,"class","left svelte-mmkx9b"),_(t,"class","svelte-mmkx9b")},m(c,i){j(c,t,i),h(t,n),h(n,s),h(n,l),h(n,u),h(u,f)},p(c,[i]){i&1&&o!==(o=`background-color: var(--color-${c[0]})`)&&_(s,"style",o),i&1&&x(f,c[0])},i:y,o:y,d(c){c&&C(t)}}}function Ze(e,t,n){let s="Pending",o=fetch(`${window.apiHost}/ping`);return fe(async()=>{if(!(await o).ok){n(0,s="Unreachable");return}n(0,s="Reachable")}),[s]}class Ke extends ne{constructor(t){super(),te(this,t,Ze,Re,K,{})}}function Je(e){let t,n,s,o,l,u,f,c,i;return s=new Fe({}),u=new Ue({}),c=new Ke({}),{c(){t=m("main"),n=m("div"),oe(s.$$.fragment),o=E(),l=m("div"),oe(u.$$.fragment),f=E(),oe(c.$$.fragment),_(n,"class","clips svelte-1wfem7q"),_(l,"class","controls svelte-1wfem7q"),_(t,"class","svelte-1wfem7q")},m(r,d){j(r,t,d),h(t,n),Q(s,n,null),h(t,o),h(t,l),Q(u,l,null),j(r,f,d),Q(c,r,d),i=!0},p:y,i(r){i||(R(s.$$.fragment,r),R(u.$$.fragment,r),R(c.$$.fragment,r),i=!0)},o(r){le(s.$$.fragment,r),le(u.$$.fragment,r),le(c.$$.fragment,r),i=!1},d(r){r&&(C(t),C(f)),X(s),X(u),X(c,r)}}}class We extends ne{constructor(t){super(),te(this,t,null,Je,K,{})}}window.apiHost="";new We({target:document.getElementById("app")});
