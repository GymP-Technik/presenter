var Ae=Object.defineProperty;var Ne=(e,t,n)=>t in e?Ae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ae=(e,t,n)=>(Ne(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function E(){}function je(e){return e()}function $e(){return Object.create(null)}function N(e){e.forEach(je)}function Oe(e){return typeof e=="function"}function x(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Me(e){return Object.keys(e).length===0}function Pe(e,...t){if(e==null){for(const s of t)s(void 0);return E}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function W(e,t,n){e.$$.on_destroy.push(Pe(t,n))}function U(e,t,n){return e.set(n),t}function d(e,t){e.appendChild(t)}function q(e,t,n){e.insertBefore(t,n||null)}function j(e){e.parentNode&&e.parentNode.removeChild(e)}function v(e){return document.createElement(e)}function I(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function V(e){return document.createTextNode(e)}function S(){return V(" ")}function L(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function a(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Be(e){return Array.from(e.childNodes)}function re(e,t){t=""+t,e.data!==t&&(e.data=t)}function ne(e,t,n,s){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,s?"important":"")}function ke(e,t,n){e.classList.toggle(t,!!n)}let Y;function G(e){Y=e}function Fe(){if(!Y)throw new Error("Function called outside component initialization");return Y}function ve(e){Fe().$$.on_mount.push(e)}const Z=[],ce=[];let J=[];const Ce=[],Ie=Promise.resolve();let ge=!1;function ze(){ge||(ge=!0,Ie.then(He))}function me(e){J.push(e)}const pe=new Set;let z=0;function He(){if(z!==0)return;const e=Y;do{try{for(;z<Z.length;){const t=Z[z];z++,G(t),De(t.$$)}}catch(t){throw Z.length=0,z=0,t}for(G(null),Z.length=0,z=0;ce.length;)ce.pop()();for(let t=0;t<J.length;t+=1){const n=J[t];pe.has(n)||(pe.add(n),n())}J.length=0}while(Z.length);for(;Ce.length;)Ce.pop()();ge=!1,pe.clear(),G(e)}function De(e){if(e.fragment!==null){e.update(),N(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(me)}}function Ue(e){const t=[],n=[];J.forEach(s=>e.indexOf(s)===-1?t.push(s):n.push(s)),n.forEach(s=>s()),J=t}const ie=new Set;let Ze;function Q(e,t){e&&e.i&&(ie.delete(e),e.i(t))}function he(e,t,n,s){if(e&&e.o){if(ie.has(e))return;ie.add(e),Ze.c.push(()=>{ie.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}else s&&s()}function Se(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Je(e,t){e.d(1),t.delete(e.key)}function Re(e,t,n,s,l,i,r,c,u,o,f,_){let g=e.length,y=i.length,h=g;const b={};for(;h--;)b[e[h].key]=h;const m=[],$=new Map,p=new Map,T=[];for(h=y;h--;){const w=_(l,i,h),k=n(w);let C=r.get(k);C?s&&T.push(()=>C.p(w,t)):(C=o(k,w),C.c()),$.set(k,m[h]=C),k in b&&p.set(k,Math.abs(h-b[k]))}const O=new Set,M=new Set;function H(w){Q(w,1),w.m(c,f),r.set(w.key,w),f=w.first,y--}for(;g&&y;){const w=m[y-1],k=e[g-1],C=w.key,P=k.key;w===k?(f=w.first,g--,y--):$.has(P)?!r.has(C)||O.has(C)?H(w):M.has(P)?g--:p.get(C)>p.get(P)?(M.add(C),H(w)):(O.add(P),g--):(u(k,r),g--)}for(;g--;){const w=e[g];$.has(w.key)||u(w,r)}for(;y;)H(m[y-1]);return N(T),m}function _e(e){e&&e.c()}function le(e,t,n){const{fragment:s,after_update:l}=e.$$;s&&s.m(t,n),me(()=>{const i=e.$$.on_mount.map(je).filter(Oe);e.$$.on_destroy?e.$$.on_destroy.push(...i):N(i),e.$$.on_mount=[]}),l.forEach(me)}function oe(e,t){const n=e.$$;n.fragment!==null&&(Ue(n.after_update),N(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ke(e,t){e.$$.dirty[0]===-1&&(Z.push(e),ze(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ue(e,t,n,s,l,i,r,c=[-1]){const u=Y;G(e);const o=e.$$={fragment:null,ctx:[],props:i,update:E,not_equal:l,bound:$e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:$e(),dirty:c,skip_bound:!1,root:t.target||u.$$.root};r&&r(o.root);let f=!1;if(o.ctx=n?n(e,t.props||{},(_,g,...y)=>{const h=y.length?y[0]:g;return o.ctx&&l(o.ctx[_],o.ctx[_]=h)&&(!o.skip_bound&&o.bound[_]&&o.bound[_](h),f&&Ke(e,_)),g}):[],o.update(),f=!0,N(o.before_update),o.fragment=s?s(o.ctx):!1,t.target){if(t.hydrate){const _=Be(t.target);o.fragment&&o.fragment.l(_),_.forEach(j)}else o.fragment&&o.fragment.c();t.intro&&Q(e.$$.fragment),le(e,t.target,t.anchor),He()}G(u)}class de{constructor(){ae(this,"$$");ae(this,"$$set")}$destroy(){oe(this,1),this.$destroy=E}$on(t,n){if(!Oe(n))return E;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const l=s.indexOf(n);l!==-1&&s.splice(l,1)}}$set(t){this.$$set&&!Me(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const We="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(We);const D=[];function be(e,t=E){let n;const s=new Set;function l(c){if(x(e,c)&&(e=c,n)){const u=!D.length;for(const o of s)o[1](),D.push(o,e);if(u){for(let o=0;o<D.length;o+=2)D[o][0](D[o+1]);D.length=0}}}function i(c){l(c(e))}function r(c,u=E){const o=[c,u];return s.add(o),s.size===1&&(n=t(l,i)||E),c(e),()=>{s.delete(o),s.size===0&&n&&(n(),n=null)}}return{set:l,update:i,subscribe:r}}const se=be({running:!1,text:"Loading",fetching:!0,playing:""}),K=be([]),X=be(!1);function Ee(e,t,n){const s=e.slice();return s[15]=t[n],s}function Te(e,t){let n,s,l,i,r,c=t[15].filename+"",u,o,f,_=new Date(t[15].date)+"",g,y,h,b,m,$,p,T,O,M,H,w,k,C,P,F,B,ee,te,we,fe,ye;function qe(){return t[9](t[15])}function Le(){return t[10](t[15])}function Ve(){return t[11](t[15])}return{key:e,first:null,c(){n=v("div"),s=v("div"),l=S(),i=v("div"),r=v("p"),u=V(c),o=S(),f=v("span"),g=V(_),y=S(),h=v("div"),b=S(),m=v("div"),$=v("button"),p=I("svg"),T=I("path"),M=S(),H=v("button"),w=I("svg"),k=I("path"),P=S(),F=v("button"),B=I("svg"),ee=I("path"),we=S(),a(s,"class","status svelte-1pgurf2"),ke(s,"selected",t[3].includes(t[15].uuid)),a(r,"class","svelte-1pgurf2"),a(f,"class","svelte-1pgurf2"),a(i,"class","infos svelte-1pgurf2"),a(h,"class","position"),a(T,"fill","currentColor"),a(T,"d","M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18a1 1 0 0 0 0-1.69L9.54 5.98A.998.998 0 0 0 8 6.82z"),a(p,"xmlns","http://www.w3.org/2000/svg"),a(p,"width","20"),a(p,"height","20"),a(p,"viewBox","0 0 24 24"),$.disabled=O=t[3].includes(t[15].uuid),a(k,"fill","currentColor"),a(k,"d","M8 18q-.825 0-1.413-.588T6 16V8q0-.825.588-1.413T8 6h8q.825 0 1.413.588T18 8v8q0 .825-.588 1.413T16 18H8Z"),a(w,"xmlns","http://www.w3.org/2000/svg"),a(w,"width","20"),a(w,"height","20"),a(w,"viewBox","0 0 24 24"),H.disabled=C=!t[3].includes(t[15].uuid),a(ee,"fill","currentColor"),a(ee,"d","M7 21q-.825 0-1.413-.588T5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.588 1.413T17 21H7Zm2-4h2V8H9v9Zm4 0h2V8h-2v9Z"),a(B,"xmlns","http://www.w3.org/2000/svg"),a(B,"width","20"),a(B,"height","20"),a(B,"viewBox","0 0 24 24"),F.disabled=te=t[3].includes(t[15].uuid),a(m,"class","actions svelte-1pgurf2"),a(n,"class","video svelte-1pgurf2"),this.first=n},m(R,A){q(R,n,A),d(n,s),d(n,l),d(n,i),d(i,r),d(r,u),d(i,o),d(i,f),d(f,g),d(n,y),d(n,h),d(n,b),d(n,m),d(m,$),d($,p),d(p,T),d(m,M),d(m,H),d(H,w),d(w,k),d(m,P),d(m,F),d(F,B),d(B,ee),d(n,we),fe||(ye=[L($,"click",qe),L(H,"click",Le),L(F,"click",Ve)],fe=!0)},p(R,A){t=R,A&9&&ke(s,"selected",t[3].includes(t[15].uuid)),A&1&&c!==(c=t[15].filename+"")&&re(u,c),A&1&&_!==(_=new Date(t[15].date)+"")&&re(g,_),A&9&&O!==(O=t[3].includes(t[15].uuid))&&($.disabled=O),A&9&&C!==(C=!t[3].includes(t[15].uuid))&&(H.disabled=C),A&9&&te!==(te=t[3].includes(t[15].uuid))&&(F.disabled=te)},d(R){R&&j(n),fe=!1,N(ye)}}}function Ge(e){let t,n,s,l,i=[],r=new Map,c,u,o,f,_,g=Se(e[0]);const y=h=>h[15].uuid;for(let h=0;h<g.length;h+=1){let b=Ee(e,g,h),m=y(b);r.set(m,i[h]=Te(m,b))}return{c(){t=v("div"),n=v("div"),n.innerHTML='<p class="svelte-1pgurf2">Click to upload</p>',s=S(),l=v("div");for(let h=0;h<i.length;h+=1)i[h].c();c=S(),u=v("form"),o=v("input"),a(n,"class","upload svelte-1pgurf2"),a(l,"class","list svelte-1pgurf2"),a(o,"type","file"),a(o,"name","fileUpload"),a(o,"id","fileUpload"),ne(o,"opacity","0"),ne(o,"height","0px"),ne(o,"width","0px"),a(o,"accept","video/mp4,video/x-m4v,video/*"),a(u,"method","POST"),a(u,"enctype","multipart/form-data"),a(u,"action",`${window.apiHost}/upload`),ne(u,"height","0px"),a(t,"class","container svelte-1pgurf2")},m(h,b){q(h,t,b),d(t,n),d(t,s),d(t,l);for(let m=0;m<i.length;m+=1)i[m]&&i[m].m(l,null);d(t,c),d(t,u),d(u,o),e[12](o),e[13](u),f||(_=[L(n,"click",e[7]),L(o,"change",e[8])],f=!0)},p(h,[b]){b&121&&(g=Se(h[0]),i=Re(i,b,y,1,h,g,r,l,Je,Te,null,Ee))},i:E,o:E,d(h){h&&j(t);for(let b=0;b<i.length;b+=1)i[b].d();e[12](null),e[13](null),f=!1,N(_)}}}function Qe(e,t,n){let s,l;W(e,K,p=>n(3,s=p)),W(e,X,p=>n(14,l=p));let i=[{id:4,filename:"Kopie von Compliment Day  Welttag.mp4",uuid:"2095d76b-d1a8-4f6b-81e9-e455e278d923",date:1688975266079}];async function r(p){const O=await(await fetch(`${window.apiHost}/videos/${p}`,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({})})).json();n(0,i=O)}async function c(p){U(K,s[s.length]=p,s),U(X,l=!0,l)}async function u(p){U(K,s=s.filter(T=>T!=p),s),U(X,l=!0,l)}let o,f;function _(){o.click()}async function g(){f.submit()}ve(async()=>{const T=await(await fetch(`${window.apiHost}/videos`)).json();n(0,i=T);const M=await(await fetch(`${window.apiHost}/timeline`)).json();U(K,s=M,s)});const y=p=>c(p.uuid),h=p=>u(p.uuid),b=p=>r(p.uuid);function m(p){ce[p?"unshift":"push"](()=>{o=p,n(1,o)})}function $(p){ce[p?"unshift":"push"](()=>{f=p,n(2,f)})}return[i,o,f,s,r,c,u,_,g,y,h,b,m,$]}class Xe extends de{constructor(t){super(),ue(this,t,Qe,Ge,x,{})}}function Ye(e){let t,n,s,l,i;return{c(){t=v("button"),n=V("Start"),t.disabled=s=e[1].fetching},m(r,c){q(r,t,c),d(t,n),l||(i=L(t,"click",e[6]),l=!0)},p(r,c){c&2&&s!==(s=r[1].fetching)&&(t.disabled=s)},d(r){r&&j(t),l=!1,i()}}}function xe(e){let t,n,s,l,i,r,c,u,o;return{c(){t=v("button"),n=V("Restart"),l=S(),i=v("button"),r=V("Stop"),t.disabled=s=e[1].fetching,i.disabled=c=e[1].fetching},m(f,_){q(f,t,_),d(t,n),q(f,l,_),q(f,i,_),d(i,r),u||(o=[L(t,"click",e[4]),L(i,"click",e[5])],u=!0)},p(f,_){_&2&&s!==(s=f[1].fetching)&&(t.disabled=s),_&2&&c!==(c=f[1].fetching)&&(i.disabled=c)},d(f){f&&(j(t),j(l),j(i)),u=!1,N(o)}}}function et(e){let t,n,s,l=e[1].text+"",i,r,c,u,o,f,_,g,y;function h($,p){return $[1].running?xe:Ye}let b=h(e),m=b(e);return{c(){t=v("div"),n=v("div"),s=v("p"),i=V(l),r=S(),c=v("div"),m.c(),u=S(),o=v("button"),f=V("Store playlist"),a(s,"class","svelte-19pv4h"),a(n,"class","status svelte-19pv4h"),o.disabled=_=!e[0],a(c,"class","controlls svelte-19pv4h"),a(t,"class","container svelte-19pv4h")},m($,p){q($,t,p),d(t,n),d(n,s),d(s,i),d(t,r),d(t,c),m.m(c,null),d(c,u),d(c,o),d(o,f),g||(y=L(o,"click",e[7]),g=!0)},p($,[p]){p&2&&l!==(l=$[1].text+"")&&re(i,l),b===(b=h($))&&m?m.p($,p):(m.d(1),m=b($),m&&(m.c(),m.m(c,u))),p&1&&_!==(_=!$[0])&&(o.disabled=_)},i:E,o:E,d($){$&&j(t),m.d(),g=!1,y()}}}function tt(e,t,n){let s,l,i;W(e,X,g=>n(0,s=g)),W(e,K,g=>n(8,l=g)),W(e,se,g=>n(1,i=g));async function r(g){se.update(b=>(b.fetching=!0,b));const h=await(await fetch(`${window.apiHost}/vlc/${g}`,{method:"put",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({})})).json();se.set(h)}async function c(){(await fetch(`${window.apiHost}/timeline`,{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({playlist:l})})).ok&&U(X,s=!1,s)}return ve(async()=>{const y=await(await fetch(`${window.apiHost}/vlc`)).json();se.set(y)}),[s,i,r,c,()=>r("restart"),()=>r("stop"),()=>r("start"),()=>c()]}class nt extends de{constructor(t){super(),ue(this,t,tt,et,x,{})}}function st(e){let t,n,s,l,i,r,c;return{c(){t=v("footer"),n=v("div"),s=v("div"),i=S(),r=v("p"),c=V(e[0]),a(s,"class","status svelte-mmkx9b"),a(s,"style",l=`background-color: var(--color-${e[0]})`),a(r,"class","svelte-mmkx9b"),a(n,"class","left svelte-mmkx9b"),a(t,"class","svelte-mmkx9b")},m(u,o){q(u,t,o),d(t,n),d(n,s),d(n,i),d(n,r),d(r,c)},p(u,[o]){o&1&&l!==(l=`background-color: var(--color-${u[0]})`)&&a(s,"style",l),o&1&&re(c,u[0])},i:E,o:E,d(u){u&&j(t)}}}function it(e,t,n){let s="Pending",l=fetch(`${window.apiHost}/ping`);return ve(async()=>{if(!(await l).ok){n(0,s="Unreachable");return}n(0,s="Reachable")}),[s]}class lt extends de{constructor(t){super(),ue(this,t,it,st,x,{})}}function ot(e){let t,n,s,l,i,r,c,u,o;return s=new Xe({}),r=new nt({}),u=new lt({}),{c(){t=v("main"),n=v("div"),_e(s.$$.fragment),l=S(),i=v("div"),_e(r.$$.fragment),c=S(),_e(u.$$.fragment),a(n,"class","clips svelte-1wfem7q"),a(i,"class","controls svelte-1wfem7q"),a(t,"class","svelte-1wfem7q")},m(f,_){q(f,t,_),d(t,n),le(s,n,null),d(t,l),d(t,i),le(r,i,null),q(f,c,_),le(u,f,_),o=!0},p:E,i(f){o||(Q(s.$$.fragment,f),Q(r.$$.fragment,f),Q(u.$$.fragment,f),o=!0)},o(f){he(s.$$.fragment,f),he(r.$$.fragment,f),he(u.$$.fragment,f),o=!1},d(f){f&&(j(t),j(c)),oe(s),oe(r),oe(u,f)}}}class rt extends de{constructor(t){super(),ue(this,t,null,ot,x,{})}}window.apiHost="http://localhost:3001";new rt({target:document.getElementById("app")});
