var lt=Object.defineProperty;var rt=(t,e,n)=>e in t?lt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var we=(t,e,n)=>(rt(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function C(){}function Je(t,e){for(const n in e)t[n]=e[n];return t}function ze(t){return t()}function Pe(){return Object.create(null)}function H(t){t.forEach(ze)}function Se(t){return typeof t=="function"}function U(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ct(t){return Object.keys(t).length===0}function Xe(t,...e){if(t==null){for(const s of e)s(void 0);return C}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ee(t,e,n){t.$$.on_destroy.push(Xe(e,n))}function Q(t,e,n){return t.set(n),e}function d(t,e){t.appendChild(e)}function T(t,e,n){t.insertBefore(e,n||null)}function q(t){t.parentNode&&t.parentNode.removeChild(t)}function v(t){return document.createElement(t)}function W(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function A(t){return document.createTextNode(t)}function L(){return A(" ")}function je(){return A("")}function N(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function a(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ut(t){return Array.from(t.childNodes)}function re(t,e){e=""+e,t.data!==e&&(t.data=e)}function fe(t,e){t.value=e??""}function de(t,e,n,s){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,s?"important":"")}function _e(t,e,n){t.classList.toggle(e,!!n)}function at(t,e,{bubbles:n=!1,cancelable:s=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:s})}function ge(t,e){return new t(e)}let ce;function oe(t){ce=t}function be(){if(!ce)throw new Error("Function called outside component initialization");return ce}function Oe(t){be().$$.on_mount.push(t)}function ft(t){be().$$.after_update.push(t)}function dt(t){be().$$.on_destroy.push(t)}function pt(){const t=be();return(e,n,{cancelable:s=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=at(e,n,{cancelable:s});return i.slice().forEach(c=>{c.call(t,o)}),!o.defaultPrevented}return!0}}function Ne(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(s=>s.call(this,e))}const x=[],me=[];let te=[];const Ie=[],Ye=Promise.resolve();let $e=!1;function Ze(){$e||($e=!0,Ye.then(Ke))}function We(){return Ze(),Ye}function Ee(t){te.push(t)}const ye=new Set;let K=0;function Ke(){if(K!==0)return;const t=ce;do{try{for(;K<x.length;){const e=x[K];K++,oe(e),ht(e.$$)}}catch(e){throw x.length=0,K=0,e}for(oe(null),x.length=0,K=0;me.length;)me.pop()();for(let e=0;e<te.length;e+=1){const n=te[e];ye.has(n)||(ye.add(n),n())}te.length=0}while(x.length);for(;Ie.length;)Ie.pop()();$e=!1,ye.clear(),oe(t)}function ht(t){if(t.fragment!==null){t.update(),H(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ee)}}function _t(t){const e=[],n=[];te.forEach(s=>t.indexOf(s)===-1?e.push(s):n.push(s)),n.forEach(s=>s()),te=e}const he=new Set;let Y;function Ce(){Y={r:0,c:[],p:Y}}function qe(){Y.r||H(Y.c),Y=Y.p}function I(t,e){t&&t.i&&(he.delete(t),t.i(e))}function D(t,e,n,s){if(t&&t.o){if(he.has(t))return;he.add(t),Y.c.push(()=>{he.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}else s&&s()}function He(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function gt(t,e){t.d(1),e.delete(t.key)}function mt(t,e,n,s,i,o,c,r,l,u,f,p){let m=t.length,E=o.length,h=m;const g={};for(;h--;)g[t[h].key]=h;const _=[],S=new Map,b=new Map,P=[];for(h=E;h--;){const $=p(i,o,h),j=n($);let O=c.get(j);O?s&&P.push(()=>O.p($,e)):(O=u(j,$),O.c()),S.set(j,_[h]=O),j in g&&b.set(j,Math.abs(h-g[j]))}const w=new Set,y=new Set;function k($){I($,1),$.m(r,f),c.set($.key,$),f=$.first,E--}for(;m&&E;){const $=_[E-1],j=t[m-1],O=$.key,z=j.key;$===j?(f=$.first,m--,E--):S.has(z)?!c.has(O)||w.has(O)?k($):y.has(z)?m--:b.get(O)>b.get(z)?(y.add(O),k($)):(w.add(z),m--):(l(j,c),m--)}for(;m--;){const $=t[m];S.has($.key)||l($,c)}for(;E;)k(_[E-1]);return H(P),_}function Ge(t,e){const n={},s={},i={$$scope:1};let o=t.length;for(;o--;){const c=t[o],r=e[o];if(r){for(const l in c)l in r||(s[l]=1);for(const l in r)i[l]||(n[l]=r[l],i[l]=1);t[o]=r}else for(const l in c)i[l]=1}for(const c in s)c in n||(n[c]=void 0);return n}function Qe(t){return typeof t=="object"&&t!==null?t:{}}function J(t){t&&t.c()}function M(t,e,n){const{fragment:s,after_update:i}=t.$$;s&&s.m(e,n),Ee(()=>{const o=t.$$.on_mount.map(ze).filter(Se);t.$$.on_destroy?t.$$.on_destroy.push(...o):H(o),t.$$.on_mount=[]}),i.forEach(Ee)}function V(t,e){const n=t.$$;n.fragment!==null&&(_t(n.after_update),H(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function bt(t,e){t.$$.dirty[0]===-1&&(x.push(t),Ze(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function R(t,e,n,s,i,o,c,r=[-1]){const l=ce;oe(t);const u=t.$$={fragment:null,ctx:[],props:o,update:C,not_equal:i,bound:Pe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Pe(),dirty:r,skip_bound:!1,root:e.target||l.$$.root};c&&c(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(p,m,...E)=>{const h=E.length?E[0]:m;return u.ctx&&i(u.ctx[p],u.ctx[p]=h)&&(!u.skip_bound&&u.bound[p]&&u.bound[p](h),f&&bt(t,p)),m}):[],u.update(),f=!0,H(u.before_update),u.fragment=s?s(u.ctx):!1,e.target){if(e.hydrate){const p=ut(e.target);u.fragment&&u.fragment.l(p),p.forEach(q)}else u.fragment&&u.fragment.c();e.intro&&I(t.$$.fragment),M(t,e.target,e.anchor),Ke()}oe(l)}class F{constructor(){we(this,"$$");we(this,"$$set")}$destroy(){V(this,1),this.$destroy=C}$on(e,n){if(!Se(n))return C;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const i=s.indexOf(n);i!==-1&&s.splice(i,1)}}$set(e){this.$$set&&!ct(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const vt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(vt);function wt(t){let e;return{c(){e=A(`prod
			`)},m(n,s){T(n,e,s)},d(n){n&&q(e)}}}function yt(t){let e;return{c(){e=A("dev")},m(n,s){T(n,e,s)},d(n){n&&q(e)}}}function kt(t){let e,n,s,i,o,c,r,l,u,f,p,m;function E(_,S){return _[1]?yt:wt}let g=E(t)(t);return{c(){e=v("footer"),n=v("div"),s=v("div"),o=L(),c=v("p"),r=A(t[0]),l=L(),u=v("div"),f=v("p"),g.c(),p=A("-"),m=A(t[2]),a(s,"class","status svelte-mn8p7g"),a(s,"style",i=`background-color: var(--color-${t[0]})`),a(c,"class","svelte-mn8p7g"),a(n,"class","left svelte-mn8p7g"),a(f,"class","svelte-mn8p7g"),a(u,"class","right svelte-mn8p7g"),a(e,"class","svelte-mn8p7g")},m(_,S){T(_,e,S),d(e,n),d(n,s),d(n,o),d(n,c),d(c,r),d(e,l),d(e,u),d(u,f),g.m(f,null),d(f,p),d(f,m)},p(_,[S]){S&1&&i!==(i=`background-color: var(--color-${_[0]})`)&&a(s,"style",i),S&1&&re(r,_[0])},i:C,o:C,d(_){_&&q(e),g.d()}}}function $t(t,e,n){let s="Pending",i=fetch(`${window.apiHost}/ping`);Oe(async()=>{if(!(await i).ok){n(0,s="Unreachable");return}n(0,s="Reachable")});let o=!1,c="263c16f490c8f51d4739c500eb7d6c7c2d22f580".slice(0,12);return[s,o,c]}class Et extends F{constructor(e){super(),R(this,e,$t,kt,U,{})}}const G=[];function xe(t,e){return{subscribe:ne(t,e).subscribe}}function ne(t,e=C){let n;const s=new Set;function i(r){if(U(t,r)&&(t=r,n)){const l=!G.length;for(const u of s)u[1](),G.push(u,t);if(l){for(let u=0;u<G.length;u+=2)G[u][0](G[u+1]);G.length=0}}}function o(r){i(r(t))}function c(r,l=C){const u=[r,l];return s.add(u),s.size===1&&(n=e(i,o)||C),r(t),()=>{s.delete(u),s.size===0&&n&&(n(),n=null)}}return{set:i,update:o,subscribe:c}}function et(t,e,n){const s=!Array.isArray(t),i=s?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const o=e.length<2;return xe(n,(c,r)=>{let l=!1;const u=[];let f=0,p=C;const m=()=>{if(f)return;p();const h=e(s?u[0]:u,c,r);o?c(h):p=Se(h)?h:C},E=i.map((h,g)=>Xe(h,_=>{u[g]=_,f&=~(1<<g),l&&m()},()=>{f|=1<<g}));return l=!0,m(),function(){H(E),p(),l=!1}})}function St(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,s,i,o,c=[],r="",l=t.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(c.push("wild"),r+="/(.*)"):n===":"?(s=i.indexOf("?",1),o=i.indexOf(".",1),c.push(i.substring(1,~s?s:~o?o:i.length)),r+=~s&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(r+=(~s?"?":"")+"\\"+i.substring(o))):r+="/"+i;return{keys:c,pattern:new RegExp("^"+r+(e?"(?=$|/)":"/?$"),"i")}}function jt(t){let e,n,s;const i=[t[2]];var o=t[0];function c(r){let l={};for(let u=0;u<i.length;u+=1)l=Je(l,i[u]);return{props:l}}return o&&(e=ge(o,c()),e.$on("routeEvent",t[7])),{c(){e&&J(e.$$.fragment),n=je()},m(r,l){e&&M(e,r,l),T(r,n,l),s=!0},p(r,l){const u=l&4?Ge(i,[Qe(r[2])]):{};if(l&1&&o!==(o=r[0])){if(e){Ce();const f=e;D(f.$$.fragment,1,0,()=>{V(f,1)}),qe()}o?(e=ge(o,c()),e.$on("routeEvent",r[7]),J(e.$$.fragment),I(e.$$.fragment,1),M(e,n.parentNode,n)):e=null}else o&&e.$set(u)},i(r){s||(e&&I(e.$$.fragment,r),s=!0)},o(r){e&&D(e.$$.fragment,r),s=!1},d(r){r&&q(n),e&&V(e,r)}}}function Ot(t){let e,n,s;const i=[{params:t[1]},t[2]];var o=t[0];function c(r){let l={};for(let u=0;u<i.length;u+=1)l=Je(l,i[u]);return{props:l}}return o&&(e=ge(o,c()),e.$on("routeEvent",t[6])),{c(){e&&J(e.$$.fragment),n=je()},m(r,l){e&&M(e,r,l),T(r,n,l),s=!0},p(r,l){const u=l&6?Ge(i,[l&2&&{params:r[1]},l&4&&Qe(r[2])]):{};if(l&1&&o!==(o=r[0])){if(e){Ce();const f=e;D(f.$$.fragment,1,0,()=>{V(f,1)}),qe()}o?(e=ge(o,c()),e.$on("routeEvent",r[6]),J(e.$$.fragment),I(e.$$.fragment,1),M(e,n.parentNode,n)):e=null}else o&&e.$set(u)},i(r){s||(e&&I(e.$$.fragment,r),s=!0)},o(r){e&&D(e.$$.fragment,r),s=!1},d(r){r&&q(n),e&&V(e,r)}}}function Ct(t){let e,n,s,i;const o=[Ot,jt],c=[];function r(l,u){return l[1]?0:1}return e=r(t),n=c[e]=o[e](t),{c(){n.c(),s=je()},m(l,u){c[e].m(l,u),T(l,s,u),i=!0},p(l,[u]){let f=e;e=r(l),e===f?c[e].p(l,u):(Ce(),D(c[f],1,1,()=>{c[f]=null}),qe(),n=c[e],n?n.p(l,u):(n=c[e]=o[e](l),n.c()),I(n,1),n.m(s.parentNode,s))},i(l){i||(I(n),i=!0)},o(l){D(n),i=!1},d(l){l&&q(s),c[e].d(l)}}}function De(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let s="";return n>-1&&(s=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:s}}const Le=xe(null,function(e){e(De());const n=()=>{e(De())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});et(Le,t=>t.location);et(Le,t=>t.querystring);const Ue=ne(void 0);async function tt(t){if(!t||t.length<1||t.charAt(0)!="/"&&t.indexOf("#/")!==0)throw Error("Invalid parameter location");await We(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(t.charAt(0)=="#"?"":"#")+t}function qt(t){t?window.scrollTo(t.__svelte_spa_router_scrollX,t.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function Lt(t,e,n){let{routes:s={}}=e,{prefix:i=""}=e,{restoreScrollState:o=!1}=e;class c{constructor(y,k){if(!k||typeof k!="function"&&(typeof k!="object"||k._sveltesparouter!==!0))throw Error("Invalid component object");if(!y||typeof y=="string"&&(y.length<1||y.charAt(0)!="/"&&y.charAt(0)!="*")||typeof y=="object"&&!(y instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:$,keys:j}=St(y);this.path=y,typeof k=="object"&&k._sveltesparouter===!0?(this.component=k.component,this.conditions=k.conditions||[],this.userData=k.userData,this.props=k.props||{}):(this.component=()=>Promise.resolve(k),this.conditions=[],this.props={}),this._pattern=$,this._keys=j}match(y){if(i){if(typeof i=="string")if(y.startsWith(i))y=y.substr(i.length)||"/";else return null;else if(i instanceof RegExp){const O=y.match(i);if(O&&O[0])y=y.substr(O[0].length)||"/";else return null}}const k=this._pattern.exec(y);if(k===null)return null;if(this._keys===!1)return k;const $={};let j=0;for(;j<this._keys.length;){try{$[this._keys[j]]=decodeURIComponent(k[j+1]||"")||null}catch{$[this._keys[j]]=null}j++}return $}async checkConditions(y){for(let k=0;k<this.conditions.length;k++)if(!await this.conditions[k](y))return!1;return!0}}const r=[];s instanceof Map?s.forEach((w,y)=>{r.push(new c(y,w))}):Object.keys(s).forEach(w=>{r.push(new c(w,s[w]))});let l=null,u=null,f={};const p=pt();async function m(w,y){await We(),p(w,y)}let E=null,h=null;o&&(h=w=>{w.state&&(w.state.__svelte_spa_router_scrollY||w.state.__svelte_spa_router_scrollX)?E=w.state:E=null},window.addEventListener("popstate",h),ft(()=>{qt(E)}));let g=null,_=null;const S=Le.subscribe(async w=>{g=w;let y=0;for(;y<r.length;){const k=r[y].match(w.location);if(!k){y++;continue}const $={route:r[y].path,location:w.location,querystring:w.querystring,userData:r[y].userData,params:k&&typeof k=="object"&&Object.keys(k).length?k:null};if(!await r[y].checkConditions($)){n(0,l=null),_=null,m("conditionsFailed",$);return}m("routeLoading",Object.assign({},$));const j=r[y].component;if(_!=j){j.loading?(n(0,l=j.loading),_=j,n(1,u=j.loadingParams),n(2,f={}),m("routeLoaded",Object.assign({},$,{component:l,name:l.name,params:u}))):(n(0,l=null),_=null);const O=await j();if(w!=g)return;n(0,l=O&&O.default||O),_=j}k&&typeof k=="object"&&Object.keys(k).length?n(1,u=k):n(1,u=null),n(2,f=r[y].props),m("routeLoaded",Object.assign({},$,{component:l,name:l.name,params:u})).then(()=>{Ue.set(u)});return}n(0,l=null),_=null,Ue.set(void 0)});dt(()=>{S(),h&&window.removeEventListener("popstate",h)});function b(w){Ne.call(this,t,w)}function P(w){Ne.call(this,t,w)}return t.$$set=w=>{"routes"in w&&n(3,s=w.routes),"prefix"in w&&n(4,i=w.prefix),"restoreScrollState"in w&&n(5,o=w.restoreScrollState)},t.$$.update=()=>{t.$$.dirty&32&&(history.scrollRestoration=o?"manual":"auto")},[l,u,f,s,i,o,b,P]}class Tt extends F{constructor(e){super(),R(this,e,Lt,Ct,U,{routes:3,prefix:4,restoreScrollState:5})}}const pe=ne({running:!1,text:"Loading",fetching:!0,playing:""}),ie=ne([]),le=ne(!1);function Me(t,e,n){const s=t.slice();return s[15]=e[n],s}function Ve(t,e){let n,s,i,o,c,r=e[15].filename+"",l,u,f,p=new Date(e[15].date)+"",m,E,h,g,_,S,b,P,w,y,k,$,j,O,z,Z,X,ue,ae,Te,ve,Ae;function st(){return e[9](e[15])}function it(){return e[10](e[15])}function ot(){return e[11](e[15])}return{key:t,first:null,c(){n=v("div"),s=v("div"),i=L(),o=v("div"),c=v("p"),l=A(r),u=L(),f=v("span"),m=A(p),E=L(),h=v("div"),g=L(),_=v("div"),S=v("button"),b=W("svg"),P=W("path"),y=L(),k=v("button"),$=W("svg"),j=W("path"),z=L(),Z=v("button"),X=W("svg"),ue=W("path"),Te=L(),a(s,"class","status svelte-1pgurf2"),_e(s,"selected",e[3].includes(e[15].uuid)),a(c,"class","svelte-1pgurf2"),a(f,"class","svelte-1pgurf2"),a(o,"class","infos svelte-1pgurf2"),a(h,"class","position"),a(P,"fill","currentColor"),a(P,"d","M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18a1 1 0 0 0 0-1.69L9.54 5.98A.998.998 0 0 0 8 6.82z"),a(b,"xmlns","http://www.w3.org/2000/svg"),a(b,"width","20"),a(b,"height","20"),a(b,"viewBox","0 0 24 24"),S.disabled=w=e[3].includes(e[15].uuid),a(j,"fill","currentColor"),a(j,"d","M8 18q-.825 0-1.413-.588T6 16V8q0-.825.588-1.413T8 6h8q.825 0 1.413.588T18 8v8q0 .825-.588 1.413T16 18H8Z"),a($,"xmlns","http://www.w3.org/2000/svg"),a($,"width","20"),a($,"height","20"),a($,"viewBox","0 0 24 24"),k.disabled=O=!e[3].includes(e[15].uuid),a(ue,"fill","currentColor"),a(ue,"d","M7 21q-.825 0-1.413-.588T5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.588 1.413T17 21H7Zm2-4h2V8H9v9Zm4 0h2V8h-2v9Z"),a(X,"xmlns","http://www.w3.org/2000/svg"),a(X,"width","20"),a(X,"height","20"),a(X,"viewBox","0 0 24 24"),Z.disabled=ae=e[3].includes(e[15].uuid),a(_,"class","actions svelte-1pgurf2"),a(n,"class","video svelte-1pgurf2"),this.first=n},m(se,B){T(se,n,B),d(n,s),d(n,i),d(n,o),d(o,c),d(c,l),d(o,u),d(o,f),d(f,m),d(n,E),d(n,h),d(n,g),d(n,_),d(_,S),d(S,b),d(b,P),d(_,y),d(_,k),d(k,$),d($,j),d(_,z),d(_,Z),d(Z,X),d(X,ue),d(n,Te),ve||(Ae=[N(S,"click",st),N(k,"click",it),N(Z,"click",ot)],ve=!0)},p(se,B){e=se,B&9&&_e(s,"selected",e[3].includes(e[15].uuid)),B&1&&r!==(r=e[15].filename+"")&&re(l,r),B&1&&p!==(p=new Date(e[15].date)+"")&&re(m,p),B&9&&w!==(w=e[3].includes(e[15].uuid))&&(S.disabled=w),B&9&&O!==(O=!e[3].includes(e[15].uuid))&&(k.disabled=O),B&9&&ae!==(ae=e[3].includes(e[15].uuid))&&(Z.disabled=ae)},d(se){se&&q(n),ve=!1,H(Ae)}}}function At(t){let e,n,s,i,o=[],c=new Map,r,l,u,f,p,m=He(t[0]);const E=h=>h[15].uuid;for(let h=0;h<m.length;h+=1){let g=Me(t,m,h),_=E(g);c.set(_,o[h]=Ve(_,g))}return{c(){e=v("div"),n=v("div"),n.innerHTML='<p class="svelte-1pgurf2">Click to upload</p>',s=L(),i=v("div");for(let h=0;h<o.length;h+=1)o[h].c();r=L(),l=v("form"),u=v("input"),a(n,"class","upload svelte-1pgurf2"),a(i,"class","list svelte-1pgurf2"),a(u,"type","file"),a(u,"name","fileUpload"),a(u,"id","fileUpload"),de(u,"opacity","0"),de(u,"height","0px"),de(u,"width","0px"),a(u,"accept","video/mp4,video/x-m4v,video/*"),a(l,"method","POST"),a(l,"enctype","multipart/form-data"),a(l,"action",`${window.apiHost}/upload`),de(l,"height","0px"),a(e,"class","container svelte-1pgurf2")},m(h,g){T(h,e,g),d(e,n),d(e,s),d(e,i);for(let _=0;_<o.length;_+=1)o[_]&&o[_].m(i,null);d(e,r),d(e,l),d(l,u),t[12](u),t[13](l),f||(p=[N(n,"click",t[7]),N(u,"change",t[8])],f=!0)},p(h,[g]){g&121&&(m=He(h[0]),o=mt(o,g,E,1,h,m,c,i,gt,Ve,null,Me))},i:C,o:C,d(h){h&&q(e);for(let g=0;g<o.length;g+=1)o[g].d();t[12](null),t[13](null),f=!1,H(p)}}}function Pt(t,e,n){let s,i;ee(t,ie,b=>n(3,s=b)),ee(t,le,b=>n(14,i=b));let o=[{id:4,filename:"Kopie von Compliment Day  Welttag.mp4",uuid:"2095d76b-d1a8-4f6b-81e9-e455e278d923",date:1688975266079}];async function c(b){const w=await(await fetch(`${window.apiHost}/videos/${b}`,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({})})).json();n(0,o=w)}async function r(b){Q(ie,s[s.length]=b,s),Q(le,i=!0,i)}async function l(b){Q(ie,s=s.filter(P=>P!=b),s),Q(le,i=!0,i)}let u,f;function p(){u.click()}async function m(){f.submit()}Oe(async()=>{const P=await(await fetch(`${window.apiHost}/videos`)).json();n(0,o=P);const y=await(await fetch(`${window.apiHost}/timeline`)).json();Q(ie,s=y,s)});const E=b=>r(b.uuid),h=b=>l(b.uuid),g=b=>c(b.uuid);function _(b){me[b?"unshift":"push"](()=>{u=b,n(1,u)})}function S(b){me[b?"unshift":"push"](()=>{f=b,n(2,f)})}return[o,u,f,s,c,r,l,p,m,E,h,g,_,S]}class Nt extends F{constructor(e){super(),R(this,e,Pt,At,U,{})}}function It(t){let e,n,s,i,o;return{c(){e=v("button"),n=A("Start"),e.disabled=s=t[1].fetching},m(c,r){T(c,e,r),d(e,n),i||(o=N(e,"click",t[6]),i=!0)},p(c,r){r&2&&s!==(s=c[1].fetching)&&(e.disabled=s)},d(c){c&&q(e),i=!1,o()}}}function Ht(t){let e,n,s,i,o,c,r,l,u;return{c(){e=v("button"),n=A("Restart"),i=L(),o=v("button"),c=A("Stop"),e.disabled=s=t[1].fetching,o.disabled=r=t[1].fetching},m(f,p){T(f,e,p),d(e,n),T(f,i,p),T(f,o,p),d(o,c),l||(u=[N(e,"click",t[4]),N(o,"click",t[5])],l=!0)},p(f,p){p&2&&s!==(s=f[1].fetching)&&(e.disabled=s),p&2&&r!==(r=f[1].fetching)&&(o.disabled=r)},d(f){f&&(q(e),q(i),q(o)),l=!1,H(u)}}}function Dt(t){let e,n,s,i=t[1].text+"",o,c,r,l,u,f,p,m,E;function h(S,b){return S[1].running?Ht:It}let g=h(t),_=g(t);return{c(){e=v("div"),n=v("div"),s=v("p"),o=A(i),c=L(),r=v("div"),_.c(),l=L(),u=v("button"),f=A("Store playlist"),a(s,"class","svelte-19pv4h"),a(n,"class","status svelte-19pv4h"),u.disabled=p=!t[0],a(r,"class","controlls svelte-19pv4h"),a(e,"class","container svelte-19pv4h")},m(S,b){T(S,e,b),d(e,n),d(n,s),d(s,o),d(e,c),d(e,r),_.m(r,null),d(r,l),d(r,u),d(u,f),m||(E=N(u,"click",t[7]),m=!0)},p(S,[b]){b&2&&i!==(i=S[1].text+"")&&re(o,i),g===(g=h(S))&&_?_.p(S,b):(_.d(1),_=g(S),_&&(_.c(),_.m(r,l))),b&1&&p!==(p=!S[0])&&(u.disabled=p)},i:C,o:C,d(S){S&&q(e),_.d(),m=!1,E()}}}function Ut(t,e,n){let s,i,o;ee(t,le,m=>n(0,s=m)),ee(t,ie,m=>n(8,i=m)),ee(t,pe,m=>n(1,o=m));async function c(m){pe.update(g=>(g.fetching=!0,g));const h=await(await fetch(`${window.apiHost}/vlc/${m}`,{method:"put",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({})})).json();pe.set(h)}async function r(){(await fetch(`${window.apiHost}/timeline`,{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({playlist:i})})).ok&&Q(le,s=!1,s)}return Oe(async()=>{const E=await(await fetch(`${window.apiHost}/vlc`)).json();pe.set(E)}),[s,o,c,r,()=>c("restart"),()=>c("stop"),()=>c("start"),()=>r()]}class Mt extends F{constructor(e){super(),R(this,e,Ut,Dt,U,{})}}function Re(t){var e=t.split(".")[1],n=e.replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(window.atob(n).split("").map(function(i){return"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(s)}const ke={Expired:"Timeout",Invalid:"Wrong password or username"};function Vt(){const t={authenticated:!1,roles:[],validUntil:0,error:void 0};let e=!0;function n(){localStorage.removeItem("auth")}async function s(l,u){const f=await fetch(`${window.apiHost}/login`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:l,password:u})});if(f.ok){const p=(await f.json()).jwt,m=Re(p);return o({authenticated:!0,roles:m.roles,validUntil:m.validUntil,error:void 0}),localStorage.setItem("auth",p),{success:!0}}else return o({error:ke.Invalid}),{success:!1,error:ke.Invalid}}const{subscribe:i,set:o,update:c}=ne({...t,loading:!0},function(){if(e){if(localStorage.getItem("auth")!==null){const u=Re(localStorage.getItem("auth"));u.expire<Date.now()&&o({defaultState:t,error:ke.Expired}),o({authenticated:!0,roles:u.roles,validUntil:u.validUntil,error:void 0})}e=!1}});return{subscribe:i,login:s,logout:n}}const nt=Vt();function Rt(t){let e,n,s,i,o,c,r;return s=new Nt({}),c=new Mt({}),{c(){e=v("main"),n=v("div"),J(s.$$.fragment),i=L(),o=v("div"),J(c.$$.fragment),a(n,"class","clips svelte-1wfem7q"),a(o,"class","controls svelte-1wfem7q"),a(e,"class","svelte-1wfem7q")},m(l,u){T(l,e,u),d(e,n),M(s,n,null),d(e,i),d(e,o),M(c,o,null),r=!0},p:C,i(l){r||(I(s.$$.fragment,l),I(c.$$.fragment,l),r=!0)},o(l){D(s.$$.fragment,l),D(c.$$.fragment,l),r=!1},d(l){l&&q(e),V(s),V(c)}}}function Ft(t,e,n){let s;return ee(t,nt,i=>n(0,s=i)),t.$$.update=()=>{t.$$.dirty&1&&(s.authenticated||tt("/login"))},[s]}class Bt extends F{constructor(e){super(),R(this,e,Ft,Rt,U,{})}}class Fe extends F{constructor(e){super(),R(this,e,null,null,U,{})}}function Be(t){let e,n,s,i,o;return{c(){e=v("div"),n=v("h1"),n.textContent="Login Error",s=L(),i=v("p"),o=A(t[3]),a(n,"class","svelte-4yqt73"),a(i,"class","svelte-4yqt73"),a(e,"class","error svelte-4yqt73")},m(c,r){T(c,e,r),d(e,n),d(e,s),d(e,i),d(i,o)},p(c,r){r&8&&re(o,c[3])},d(c){c&&q(e)}}}function Jt(t){let e;return{c(){e=A("Submit")},m(n,s){T(n,e,s)},d(n){n&&q(e)}}}function zt(t){let e;return{c(){e=A("Loading")},m(n,s){T(n,e,s)},d(n){n&&q(e)}}}function Xt(t){let e,n,s,i,o,c,r,l,u,f,p=t[3]!==void 0&&Be(t);function m(g,_){return g[0]?zt:Jt}let E=m(t),h=E(t);return{c(){e=v("main"),p&&p.c(),n=L(),s=v("form"),i=v("input"),o=L(),c=v("input"),r=L(),l=v("button"),h.c(),a(i,"type","text"),a(i,"name","username"),i.required=!0,a(i,"placeholder","Username"),a(i,"id","username"),i.disabled=t[0],a(i,"class","svelte-4yqt73"),a(c,"type","password"),a(c,"name","password"),c.required=!0,a(c,"placeholder","Password"),a(c,"id","password"),c.disabled=t[0],a(c,"class","svelte-4yqt73"),a(l,"type","submit"),a(l,"class","svelte-4yqt73"),_e(l,"loading",t[0]),a(s,"class","svelte-4yqt73"),a(e,"class","svelte-4yqt73")},m(g,_){T(g,e,_),p&&p.m(e,null),d(e,n),d(e,s),d(s,i),fe(i,t[1]),d(s,o),d(s,c),fe(c,t[2]),d(s,r),d(s,l),h.m(l,null),u||(f=[N(i,"input",t[5]),N(c,"input",t[6]),N(s,"submit",t[4])],u=!0)},p(g,[_]){g[3]!==void 0?p?p.p(g,_):(p=Be(g),p.c(),p.m(e,n)):p&&(p.d(1),p=null),_&1&&(i.disabled=g[0]),_&2&&i.value!==g[1]&&fe(i,g[1]),_&1&&(c.disabled=g[0]),_&4&&c.value!==g[2]&&fe(c,g[2]),E!==(E=m(g))&&(h.d(1),h=E(g),h&&(h.c(),h.m(l,null))),_&1&&_e(l,"loading",g[0])},i:C,o:C,d(g){g&&q(e),p&&p.d(),h.d(),u=!1,H(f)}}}function Yt(t,e,n){let s=!1,i="",o="",c;async function r(f){n(0,s=!0),f.preventDefault(),n(3,c=void 0);const{success:p,error:m}=await nt.login(i,o);p?tt("/"):(n(3,c=m),n(0,s=!1))}function l(){i=this.value,n(1,i)}function u(){o=this.value,n(2,o)}return[s,i,o,c,r,l,u]}class Zt extends F{constructor(e){super(),R(this,e,Yt,Xt,U,{})}}function Wt(t){let e;return{c(){e=v("h1"),e.textContent="4041"},m(n,s){T(n,e,s)},p:C,i:C,o:C,d(n){n&&q(e)}}}class Kt extends F{constructor(e){super(),R(this,e,null,Wt,U,{})}}const Gt={"/":Bt,"/login":Zt,"/settings":Fe,"/settings/*":Fe,"*":Kt};function Qt(t){let e,n,s,i;return e=new Tt({props:{routes:Gt}}),s=new Et({}),{c(){J(e.$$.fragment),n=L(),J(s.$$.fragment)},m(o,c){M(e,o,c),T(o,n,c),M(s,o,c),i=!0},p:C,i(o){i||(I(e.$$.fragment,o),I(s.$$.fragment,o),i=!0)},o(o){D(e.$$.fragment,o),D(s.$$.fragment,o),i=!1},d(o){o&&q(n),V(e,o),V(s,o)}}}class xt extends F{constructor(e){super(),R(this,e,null,Qt,U,{})}}window.apiHost="";new xt({target:document.getElementById("app")});
